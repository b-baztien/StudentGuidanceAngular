<div class="main-content">
    <div class="container-fluid">
        <div class="row">
            <div class="col-lg-12 col-md-12">
                <div class="card">
                    <div class="card-header card-header-success">
                        <div class="row">
                            <div class="col-sm-12">
                                <h4 class="card-title">รายชื่อผลการสอบติด</h4>
                                <p class="card-category">
                                    นี่คือรายชื่อผลการสอบติดทั้งหมดที่พบในระบบ คุณสามารถตรวจสอบ
                                    หรือจัดการ
                                    รานละเอียดต่างๆ ของผลการสอบติดนั้นๆ ได้
                                </p>
                            </div>
                        </div>
                    </div>
                    <div class="card-profile" *ngIf="!showTable">
                        <div class="card-body">
                            <mat-icon class="card-title">highlight_off</mat-icon>
                            <h4 class="card-description">ไม่พบข้อมูลผลการสอบติด</h4>
                            <p class="card-description">
                                ไม่พบข้อมูลผลการสอบติดในระบบ กรุณาเพิ่มข้อมูลผลการสอบติด
                            </p>
                        </div>
                    </div>
                    <div class="card-body table-responsive">
                        <div *ngIf="showTable">
                            <mat-form-field>
                                <input matInput placeholder="ค้นหาผลการสอบติด ภายในระบบ..."
                                    (keyup)="applyFilter($event.target.value)">
                            </mat-form-field>
                            <table mat-table [dataSource]="examResultList" class="table table-hover">
                                <ng-container matColumnDef="entrance_exam_name">
                                    <th mat-header-cell *matHeaderCellDef>ชื่อรอบการสอบติด</th>
                                    <td mat-cell *matCellDef="let resultExam"> {{resultExam.data().entrance_exam_name}}
                                    </td>
                                </ng-container>
                                <ng-container matColumnDef="year">
                                    <th mat-header-cell *matHeaderCellDef>ปีการศึกษา</th>
                                    <td mat-cell *matCellDef="let resultExam">{{resultExam.data().year}}</td>
                                </ng-container>
                                <ng-container matColumnDef="major">
                                    <th mat-header-cell *matHeaderCellDef>สาขาที่ติด</th>
                                    <td mat-cell *matCellDef="let resultExam">
                                        {{mapUniData.get(resultExam.data().major.id)}}</td>
                                </ng-container>
                                <ng-container matColumnDef="faculty">
                                    <th mat-header-cell *matHeaderCellDef>คณะที่ติด</th>
                                    <td mat-cell *matCellDef="let resultExam">
                                        {{mapUniData.get(resultExam.data().faculty.id)}}</td>
                                </ng-container>
                                <ng-container matColumnDef="university">
                                    <th mat-header-cell *matHeaderCellDef>มหาวิทยาลัยที่ติด</th>
                                    <td mat-cell *matCellDef="let resultExam">
                                        {{mapUniData.get(resultExam.data().university.id)}}</td>
                                </ng-container>
                                <ng-container matColumnDef="manage">
                                    <th mat-header-cell *matHeaderCellDef>ลบข้อมูลการสอบติด</th>
                                    <td mat-cell *matCellDef="let resultExam">
                                        <button mat-raised-button matTooltip="ลบ" [matTooltipPosition]="'above'"
                                            class="btn-danger" (click)="openDeleteEntranceExamResuleDialog(resultExam)">
                                            <mat-icon>delete</mat-icon>
                                        </button>
                                    </td>
                                </ng-container>
                                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                                <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                            </table>
                            <div class="card-profile" *ngIf="examResultList.filteredData.length == 0">
                                <div class="card-body">
                                    <mat-icon class="card-title">search</mat-icon>
                                    <h4 class="card-description">ไม่พบข้อมูลผลการสอบติดที่ค้นหา</h4>
                                    <p class="card-description">
                                        ไม่พบข้อมูลผลการสอบติดตามเงื่อนไขที่ค้นหา กรุณาค้นหาด้วยเงื่อนไขอื่น
                                    </p>
                                </div>
                            </div>
                        </div>
                        <mat-paginator [hidePageSize]="true" [showFirstLastButtons]="true" [pageSize]="10">
                        </mat-paginator>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>